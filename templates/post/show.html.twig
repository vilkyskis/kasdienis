{% extends 'base.html.twig' %}

{% block title %}{{ post.Title }}{% endblock %}

{% block body %}
    <div class="container">
    <h1>{{ post.Title }}</h1> <a href="{{ path('post_index') }}">back to list</a> <br>

        <h6 class="small">{{ post.Date ? post.Date|date('Y-m-d H:i') : '' }}</h6>

    <table class="table table-striped table-bordered">
        <tbody>
            <tr>
                <td style="width: 8%">{{ post.upvotes }} <a href="{{ path('post_upvote', {'id': post.id}) }}">Upvote</a></td>
                <td>{{ post.Data|raw|nl2br }}</td>
            </tr>
        </tbody>
    </table>

    <b>Upvotes: </b>{{ post.upvotes }}<br>

    <b>Comments:</b><br>
    {% for comm in post.comments %}
        <b>{{ comm.author }}</b> *
        {{ comm.Date ? comm.Date|date('Y-m-d H:i') : '' }}<br>
        {{ comm.comment|nl2br }}<br>

    {% endfor %}
    <div class="text-center">
    {{ include('comment/_form.html.twig') }}
    </div>
    <a href="{{ path('post_index') }}">back to list</a>

    <a href="{{ path('post_edit', {'id': post.id}) }}">edit</a>

    {# {{ include('post/_delete_form.html.twig') }} #}
    </div>
{% endblock %}
